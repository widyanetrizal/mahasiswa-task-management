## ========================================
## RabbitMQ Main Configuration
## ========================================

# Default user & password (untuk dev/testing, ganti di production)
default_user = guest
default_pass = guest

# Default virtual host
default_vhost = /

# Management UI
# management.load_definitions = /etc/rabbitmq/definitions.json
management.tcp.port = 15672
management.tcp.ip   = 0.0.0.0

# Networking
listeners.tcp.default = 5672
loopback_users.guest = false  # supaya user guest bisa akses dari luar container

# Memory settings
vm_memory_high_watermark.relative = 0.7
vm_memory_high_watermark_paging_ratio = 0.5

# Disk space threshold (100MB)
disk_free_limit.absolute = 100MB

# Logging
log.console = true
log.console.level = info
log.file.level = info

## ========================================
## Prometheus / Metrics Integration
## ========================================
# Aktifkan plugin Prometheus (RabbitMQ akan expose di port 15692)
prometheus.return_per_object_metrics = true
